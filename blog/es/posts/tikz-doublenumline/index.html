<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <link href="https://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="generator" content="Hugo 0.110.0">

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>Plantilla de Tikz para crear diagramas matemáticos: ejemplo de rectas numéricas dobles &middot; Enrique Acosta Jaramillo</title>
  <meta name="description" content="" />

  
  <link type="text/css" rel="stylesheet" href="https://enriqueacosta.github.io/blog/es/css/print.css" media="print">
  <link type="text/css" rel="stylesheet" href="https://enriqueacosta.github.io/blog/es/css/poole.css">
  <link type="text/css" rel="stylesheet" href="https://enriqueacosta.github.io/blog/es/css/syntax.css">
  <link type="text/css" rel="stylesheet" href="https://enriqueacosta.github.io/blog/es/css/hyde.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Abril+Fatface|PT+Sans:400,400i,700">


  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/favicon.png">

  
  




   
   <base href="https://enriqueacosta.github.io/blog/es/">


   

   <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css" integrity="sha384-zB1R0rpPzHqg7Kpt0Aljp8JPLqbXI3bhnPWROx27a9N0Ll6ZP/+DiW/UqRcLbRjq" crossorigin="anonymous">

   
   <script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js" integrity="sha384-y23I5Q6l+B6vatafAwxRu/0oK/79VlbSz7Q9aiSZUvyWYIYsd+qj+o24G5ZU2zJz" crossorigin="anonymous"></script>

   
   <script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js" integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI"
   crossorigin="anonymous"
   onload='renderMathInElement(document.body);'></script>

   <script>
       document.addEventListener("DOMContentLoaded", function() {
           renderMathInElement(document.body, {
               delimiters: [
                   {left: "$$", right: "$$", display: true},
                   {left: "\\[", right: "\\]", display: true},
                   {left: "$", right: "$", display: false},
                   {left: "\\(", right: "\\)", display: false}
               ]
           });
       });
   </script>


</head>

  <body class="theme-base-08 ">
  <aside class="sidebar">
  
    <nav class="LangNav">
    
      <a href="https://enriqueacosta.github.io/blog/en/posts/tikz-doublenumline/">English</a>
    
      <a href="https://enriqueacosta.github.io/blog/es/posts/tikz-doublenumline/">Español</a>
    
    </nav>
  
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <a href="https://enriqueacosta.github.io/blog/es/"><h1>Enrique Acosta Jaramillo</h1></a>
      <p class="lead">
       Blog personal 
      </p>
    </div>

    <nav>
      <ul class="sidebar-nav">
        <li><a href="/blog/es">Home</a> </li>
        <li><a href="/blog/es/tikz-gallery/"> Galeria de Tikz </a></li><li><a href="/blog/es/subscribe/subscribe"> Suscribirse </a></li><li><a href="/blog/es/about/about"> Acerca de este blog </a></li><li><a href="/blog/es/categories/"> Categorias </a></li><li><a href="/blog/es/tags/"> Etiquetas </a></li>
      </ul>
    </nav>
    <p>2025
      
      
      
    </p>
    <div class="hugo-ref">
      <p>Powered by <a href="https://gohugo.io">Hugo</a>. Layout based on the <a href="https://github.com/spf13/hyde">Hyde</a> theme.</p>
    </div>
    
  </div>
</aside>

    <main class="content container">
    <div class="post">
  <h1>Plantilla de Tikz para crear diagramas matemáticos: ejemplo de rectas numéricas dobles</h1>
  
  
  <time datetime=2025-06-25T10:49:34-0500 class="post-date">25 de junio de 2025</time>
  
  
  <p> 
    <strong>Etiquetas: </strong>
     
    <a href="https://enriqueacosta.github.io/blog/es/tags/tikz">Tikz</a>
    
  </p>
  
  
  
    
      <h4>(<a href="https://enriqueacosta.github.io/blog/en/posts/tikz-doublenumline/">English: Tikz Template for Mathematical Figures: Example with Double Number Lines</a>)</h4>
    
  
  <div>
  <p>En esta entrada de blog explico cómo diseñé un sistema con <strong>TikZ</strong> para generar un tipo de diagramas matemáticos de manera eficiente y fácil de mantener. TikZ un lenguaje de programación para crear diagramas matemáticos mediante código. El sistema es una plantilla para construir <strong>rectas numéricas dobles</strong>, tipo de diagrama muy utilizado en recursos educativos de matemáticas modernos para apoyar el razonamiento proporcional (por ejemplo, porcentajes, razones o recetas).</p>
<p>El objetivo de esta entrada es mostrar cómo estas rectas numéricas dobles se pueden generar &ldquo;automáticamente&rdquo;, usando código de programación breve y flexible, que produce diagramas visualmente consistentes y permite centrar la atención en las ideas matemáticas. Una estructura visual coherente facilita el aprendizaje y el razonamiento matemático.</p>
<p>Para ilustrar la utilidad de estos diagrama, considere el siguiente ejemplo:</p>
<blockquote>
<p><em>¿Cuánto es 75% de una cantidad de calcio si 100% es 1200mg?</em></p>
</blockquote>
<p>La recta numérica doble permite visualizar la respuesta, alineando la marca del 75% en una recta con el valor correspondiente en la otra.</p>
<figure><img src="doubleNumberLine1.es.svg"/>
</figure>

<!-- raw HTML omitted -->
<p>Con la plantilla, este es el código que genera el diagrama:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-tex" data-lang="tex"><span style="display:flex;"><span><span style="color:#66d9ef">\begin</span>{tikzpicture}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">% Parámetros
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">\def\lineWide</span>{6.3cm} <span style="color:#75715e">% ancho de la recta (sin incluir la etiqueta)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">\def\numMarks</span>{5}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">\def\topMarkLabels</span>{0,300,...,1200} 
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">\def\topLineLabel</span>{calcio (mg)}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">\def\bottomMarkLabels</span>{0<span style="color:#66d9ef">\%</span>, 25<span style="color:#66d9ef">\%</span>, 50<span style="color:#66d9ef">\%</span>,75<span style="color:#66d9ef">\%</span>, 100<span style="color:#66d9ef">\%</span>} 
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">\def\bottomLineLabel</span>{}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">% Dibuja la recta numérica doble
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">\doubleNumberLine</span>{<span style="color:#66d9ef">\lineWide</span>}{<span style="color:#66d9ef">\numMarks</span>}{<span style="color:#66d9ef">\topMarkLabels</span>}{<span style="color:#66d9ef">\topLineLabel</span>}{<span style="color:#66d9ef">\bottomMarkLabels</span>}{<span style="color:#66d9ef">\bottomLineLabel</span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">% recuadro alrededor de algunas marcas
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">\node</span><span style="color:#a6e22e">[fit=(top-mark-4) (bot-mark-4), draw, rectangle, rounded corners=1.5ex, inner sep=2.7ex, densely dashed]</span> {};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">\end</span>{tikzpicture}
</span></span></code></pre></div><p>No es necesario entender todas las líneas de ese código para poder leer esta entrada de blog. Lo importante es entender que, una vez definida la plantilla, crear diagramas como estos resulta rápido y sencillo: basta con modificar unas líneas y se obtiene un diagrama nuevo, bien organizado y con todos los textos y marcas en su sitio.</p>
<p>Antes de continuar, ¡anímese a probar! No es necesario saber programar:</p>
<ul>
<li>¿Qué cambiaría en el código para que diga <code>magnesio</code> en vez de <code>calcio</code>?</li>
<li>¿Y para que las marcas superiores sean <code>0,500,1000,1500,2000</code>?</li>
</ul>
<p>Una buena plantilla separa claramente lo que varía (el contenido del diagrama de recta numérica doble) de lo que permanece igual (la estructura y el diseño). De este modo, todos los diagramas mantienen un estilo coherente y solo cambia la información.</p>
<h3 id="a-quién-va-dirigido-esto">¿A quién va dirigido esto?</h3>
<p>Esta entrada de blog está dirigida a cualquier persona interesada en cómo se crean diagramas matemáticos a escala. Espero que sea una lectura interesante incluso si todo lo que sabe de <strong>TikZ</strong> es que un lenguaje para dibujar diagramas matemáticos (si desea saber más, puede leer 
<a href="https://es.wikipedia.org/wiki/PGF/TikZ" target="_blank" rel="noopener">aquí</a>).</p>
<p>La intención no es solo explicar cómo dibujar estos diagramas, sino explicar cómo crear un sistema para producir muchos diagramas similares, manteniendo coherencia, claridad y facilidad de adaptación. Esto resulta especialmente útil cuando los recursos educativos se desarrollan en equipo y se ajustan con el paso del tiempo.</p>
<!-- raw HTML omitted -->
<p>Estos son dos ejemplos con el mismo tamaño de recta (longitud de las rectas numéricas), aunque el contenido es diferente:</p>
<div style="overflow-x: auto;">
  <div style="width: max-content; margin-left: auto; padding-right: clamp(0px, calc(100vw - 100%), 5vw);">
    <img 
      src="doubleNumberLine1.es.svg" 
      alt="" 
      style="display: block;" />
  </div>
</div>

<div style="overflow-x: auto;">
  <div style="width: max-content; margin-left: auto; padding-right: clamp(0px, calc(100vw - 100%), 5vw);">
    <img 
      src="doubleNumberLine2.es.svg" 
      alt="" 
      style="display: block;" />
  </div>
</div>

<p><strong>Nota:</strong> Esta página web es <em>responsiva</em>, lo que significa que el contenido (incluidas las imágenes y los tamaños de letra) se ajusta automáticamente al tamaño de la pantalla. Para mostrar la coherencia visual de los diagramas en esta entrada, he hecho que las imágenes no sean responsivas. Por eso, podrían desbordarse en pantallas pequeñas en lugar de reducirse. Si no ve toda una imagen, intente desplazarse hacia los lados.</p>
<hr>
<h2 id="paso-a-paso-cómo-se-construyó-la-plantilla">Paso a paso: cómo se construyó la plantilla</h2>
<h3 id="qué-inconvenientes-busca-evitar-la-plantilla">¿Qué inconvenientes busca evitar la plantilla?</h3>
<p>Al crear rectas numéricas dobles, suelen surgir varios inconvenientes:</p>
<ul>
<li>Los textos a la izquierda de la recta a veces son largos, y esto causa que los diagramas sean más anchos que el espacio disponible. En estos casos es necesario acortar las rectas para lograr que quepan en el espacio disponible y así evitar que haya un cambio de escala en el diagrama (pues estos producen inconsistencias en los tamaños de fuente y grosores de las líneas en los diagramas).</li>
<li>Estos ajustes a la longitud de la recta obligan a modificar la posición de las marcas y de sus etiquetas, lo que puede ser tedioso y repetitivo.</li>
<li>Si se necesita cambiar el número de marcas, hay que ajustar la posición de todas las marcas y sus etiquetas.</li>
<li>Si se utiliza código y el contenido no está bien separado del estilo, este se vuelve difícil de mantener si se reutiliza o copia. Si se emplea software gráfico, todos estos ajustes resultan engorrosos y repetitivos.</li>
</ul>
<p>La plantilla resuelve todos estos inconvenientes automatizándolos y, al mismo tiempo, aplicando algunos principios de diseño:</p>
<ul>
<li>El texto aparece siempre con el mismo tamaño de fuente en todos los diagramas, ya que la longitud de la recta (sin contar las etiquetas a la izquierda) se puede controlar explícitamente, permitiendo ajustar el diagrama al espacio disponible.</li>
<li>Las etiquetas de las rectas se colocan a una distancia fija y consistente a la izquierda.</li>
<li>Las marcas están espaciadas uniformemente.</li>
<li>Las etiquetas de las marcas están centradas perfectamente encima o debajo de las marcas, a una distancia vertical constante.</li>
<li>El código es limpio y legible, por lo que resulta fácil de adaptar.</li>
</ul>
<p>Cada paso a continuación ilustra una decisión que ayuda a separar la estructura y la identidad visual del contenido.</p>
<h3 id="paso-1-dibujar-la-recta">Paso 1: Dibujar la recta</h3>
<p>Suponga que se desea una longitud determinada, por ejemplo <code>\def\lineWide{6.3cm}</code>. Se puede dibujar la recta así:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-latex" data-lang="latex"><span style="display:flex;"><span><span style="color:#66d9ef">\def\lineWide</span>{6.3cm}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">\coordinate</span> (leftEnd) at (0, 0);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">\coordinate</span> (rightEnd) at (<span style="color:#66d9ef">\lineWide</span>, 0);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">\draw</span><span style="color:#a6e22e">[-&gt;, &gt;=stealth]</span> (leftEnd) -- (rightEnd);
</span></span></code></pre></div><p>En ese fragmento de código:</p>
<ul>
<li>el comando <code>\coordinate</code> da nombre a los extremos de la recta numérica.</li>
<li>el comando <code>\draw</code> dibuja la recta entre los dos puntos <code>(leftEnd) -- (rightEnd)</code>.</li>
<li>las opciones <code>[-&gt;, &gt;=stealth]</code> indican:
<ul>
<li><code>-&gt;</code> dibuja una flecha al final del segmento</li>
<li><code>&gt;=stealth</code> utiliza el estilo de flecha &ldquo;stealth&rdquo;.</li>
</ul>
</li>
</ul>
<p>El resultado es el siguiente diagrama:</p>
<div style="overflow-x: auto;">
  <div style="width: max-content; margin-left: auto; padding-right: clamp(0px, calc(100vw - 100%), 5vw);">
    <img 
      src="doubleNumberLine3.svg" 
      alt="" 
      style="display: block;" />
  </div>
</div>

<h3 id="paso-2-añadir-la-etiqueta-de-la-recta">Paso 2: Añadir la etiqueta de la recta</h3>
<!-- raw HTML omitted -->
<p>Para que la etiqueta situada a la izquierda de la recta mantenga siempre una posición uniforme, sin importar la longitud del texto, conviene fijar su ubicación de manera automática. El siguiente método resulta especialmente práctico:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-latex" data-lang="latex"><span style="display:flex;"><span><span style="color:#66d9ef">\node</span><span style="color:#a6e22e">[anchor=east, xshift=-0.15cm]</span> at (leftEnd) {acá va la etiqueta};
</span></span></code></pre></div><p>La opción <code>anchor=east</code> alinea el borde derecho de la etiqueta con <code>(leftEnd)</code>, y <code>xshift</code> la desplaza ligeramente a la izquierda. Así la etiqueta queda alineada visualmente, aunque el texto cambie. El resultado es:</p>
<div style="overflow-x: auto;">
  <div style="width: max-content; margin-left: auto; padding-right: clamp(0px, calc(100vw - 100%), 5vw);">
    <img 
      src="doubleNumberLine4.es.svg" 
      alt="" 
      style="display: block;" />
  </div>
</div>

<p>Para separar el comando que agrega la etiqueta y especifica su posición del texto mismo de la etiqueta, se puede definir la maco <code>\def\lineLabel</code> con el texto, y después invocarlo. Así:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-latex" data-lang="latex"><span style="display:flex;"><span><span style="color:#75715e">% etiqueta de la recta
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">\def\lineLabel</span>{acá va la etiqueta}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">% agregar la etiqueta de la recta
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">\node</span><span style="color:#a6e22e">[anchor=east, xshift=-0.15cm]</span> at (leftEnd) {<span style="color:#66d9ef">\lineLabel</span>};
</span></span></code></pre></div><h3 id="paso-3-añadir-las-marcas">Paso 3: Añadir las marcas</h3>
<p>Para evitar que las marcas queden demasiado cerca de los extremos, se deja un pequeño espacio a cada lado. Las marcas se colocan usando un ciclo.</p>
<p>Por ejemplo, para 5 marcas:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-latex" data-lang="latex"><span style="display:flex;"><span><span style="color:#66d9ef">\def\numLineExtra</span>{0.3cm}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">% dibuja las marcas como nodos (mark-n). La primera marca es (mark-1).
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">\foreach</span> <span style="color:#66d9ef">\x</span> in {1,...,5}{<span style="color:#75715e">%
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">\node</span><span style="color:#a6e22e">[draw]</span> (mark-<span style="color:#66d9ef">\x</span>) at ({<span style="color:#66d9ef">\numLineExtra</span>+(<span style="color:#66d9ef">\x</span>-1)*(<span style="color:#66d9ef">\lineWide</span>-2.5<span style="color:#66d9ef">\numLineExtra</span>)/(5-1)},0) {};
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>El resultado es el siguiente:</p>
<div style="overflow-x: auto;">
  <div style="width: max-content; margin-left: auto; padding-right: clamp(0px, calc(100vw - 100%), 5vw);">
    <img 
      src="doubleNumberLine5.es.svg" 
      alt="" 
      style="display: block;" />
  </div>
</div>

<p>Ese fragmento de código coloca nodos sin texto (el texto va adentro de los <code>{}</code>) en los puntos igualmente espaciados <code>(mark-1)</code>,&hellip;,<code>(mark-5)</code>, dejando <code>\numLineExtra</code> de espacio a la izquierda y derecha de la recta numérica (en realidad, un poco más a la derecha). El comando <code>node</code> tiene la opción <code>[draw]</code>, que dibuja el borde del nodo. Dar nombre a los nodos como <code>(mark-1)</code>,&hellip;,<code>(mark-5)</code> es útil para después ubicar etiquetas u otros elementos alrededor de cada marca.</p>
<h3 id="paso-4-dar-estilo-a-las-marcas">Paso 4: Dar estilo a las marcas</h3>
<p>Ahora es necesario dar formato a esos nodos para que realmente parezcan marcas y no pequeños cuadrados. Esto se logra definiendo un estilo en TikZ y luego aplicándolo a los nodos correspondientes.</p>
<p>Así se define el estilo:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-latex" data-lang="latex"><span style="display:flex;"><span><span style="color:#75715e">% Define the &#34;numLineTick&#34; style
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>numLineTick/.style={
</span></span><span style="display:flex;"><span>  draw,               <span style="color:#75715e">% Draw tickmark node
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  minimum width=0pt,  <span style="color:#75715e">% No width for the node box
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  minimum height=7pt, <span style="color:#75715e">% Height of the tickmark
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  line cap=round,     <span style="color:#75715e">% Rounded ends for ticks
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  inner sep=0pt,      <span style="color:#75715e">% No inner padding
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  outer sep=2pt,      <span style="color:#75715e">% Space around the tick
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  line width=0.35pt,  <span style="color:#75715e">% Thickness of the tick line
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>},
</span></span></code></pre></div><p>Para aplicarlo, basta con usar el estilo en lugar de <code>[draw]</code> al crear los nodos:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-latex" data-lang="latex"><span style="display:flex;"><span><span style="color:#75715e">% dibuja las marcas como nodos (mark-n). La primera marca es (mark-1).
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">\foreach</span> <span style="color:#66d9ef">\x</span> in {1,...,5}{<span style="color:#75715e">%
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">\node</span><span style="color:#a6e22e">[numLineTick]</span> (mark-<span style="color:#66d9ef">\x</span>) at ({<span style="color:#66d9ef">\numLineExtra</span>+(<span style="color:#66d9ef">\x</span>-1)*(<span style="color:#66d9ef">\lineWide</span>-2.5<span style="color:#66d9ef">\numLineExtra</span>)/(5-1)},0) {};
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>El resultado es:
<div style="overflow-x: auto;">
  <div style="width: max-content; margin-left: auto; padding-right: clamp(0px, calc(100vw - 100%), 5vw);">
    <img 
      src="doubleNumberLine6.es.svg" 
      alt="" 
      style="display: block;" />
  </div>
</div>
</p>
<h3 id="paso-5-generalizar-la-cantidad-de-marcas">Paso 5: Generalizar la cantidad de marcas</h3>
<p>Una de las ventajas de esta plantilla es que permite generar tantas marcas como se necesiten. Como el código ya está preparado para ello, solo hay que cambiar el <code>5</code> por un nuevo parámetro <code>\numMarks</code> y todo se adapta de forma automática.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-latex" data-lang="latex"><span style="display:flex;"><span><span style="color:#75715e">% dibuja las marcas como nodos (mark-n). La primera marca es (mark-1).
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">\foreach</span> <span style="color:#66d9ef">\x</span> in {1,...,<span style="color:#66d9ef">\numMarks</span>}{<span style="color:#75715e">%
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">\node</span><span style="color:#a6e22e">[numLineTick]</span> (mark-<span style="color:#66d9ef">\x</span>) at ({<span style="color:#66d9ef">\numLineExtra</span>+(<span style="color:#66d9ef">\x</span>-1)*(<span style="color:#66d9ef">\lineWide</span>-2.5<span style="color:#66d9ef">\numLineExtra</span>)/(<span style="color:#66d9ef">\numMarks</span>-1)},0) {};
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Por ejemplo, si se define <code>\def\numMarks{9}</code>, el código produce 9 marcas igualmente espaciadas:</p>
<div style="overflow-x: auto;">
  <div style="width: max-content; margin-left: auto; padding-right: clamp(0px, calc(100vw - 100%), 5vw);">
    <img 
      src="doubleNumberLine7.es.svg" 
      alt="" 
      style="display: block;" />
  </div>
</div>

<h3 id="paso-6-añadir-etiquetas-a-las-marcas">Paso 6: Añadir etiquetas a las marcas</h3>
<p>Al tener nombres para todas las marcas, etiquetarlas resulta sencillo. Por ejemplo:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-latex" data-lang="latex"><span style="display:flex;"><span><span style="color:#66d9ef">\node</span><span style="color:#a6e22e">[above,font=\small]</span> at (mark-4) {above};
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">\node</span><span style="color:#a6e22e">[below,font=\small]</span> at (mark-4) {(mark-4)};
</span></span></code></pre></div><!-- raw HTML omitted -->
<div style="overflow-x: auto;">
  <div style="width: max-content; margin-left: auto; padding-right: clamp(0px, calc(100vw - 100%), 5vw);">
    <img 
      src="doubleNumberLine8.es.svg" 
      alt="" 
      style="display: block;" />
  </div>
</div>

<p>Otra opción es usar un ciclo y ajustar la distancia para las etiquetas superiores con <code>above=3pt</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-latex" data-lang="latex"><span style="display:flex;"><span><span style="color:#66d9ef">\foreach</span> <span style="color:#66d9ef">\num</span> [count=<span style="color:#66d9ef">\i</span>] in {0,20,...,100} {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">\node</span><span style="color:#a6e22e">[above=3pt,font=\scriptsize]</span> at (mark-<span style="color:#66d9ef">\i</span>) {<span style="color:#66d9ef">\num\%</span>};
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><div style="overflow-x: auto;">
  <div style="width: max-content; margin-left: auto; padding-right: clamp(0px, calc(100vw - 100%), 5vw);">
    <img 
      src="doubleNumberLine9.es.svg" 
      alt="" 
      style="display: block;" />
  </div>
</div>

<p>Para facilitar la reutilización, lo más práctico es definir las etiquetas en una macro de LaTeX y luego asignarlas a cada marca con un ciclo. Así:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-latex" data-lang="latex"><span style="display:flex;"><span><span style="color:#66d9ef">\def\labels</span>{0<span style="color:#66d9ef">\%</span>,20<span style="color:#66d9ef">\%</span>, , 60<span style="color:#66d9ef">\%</span> , ,100<span style="color:#66d9ef">\%</span>}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">\foreach</span> <span style="color:#66d9ef">\label</span> [count=<span style="color:#66d9ef">\i</span>] in <span style="color:#66d9ef">\labels</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">\node</span><span style="color:#a6e22e">[above=3pt,font=\scriptsize]</span> at (mark-<span style="color:#66d9ef">\i</span>) {<span style="color:#66d9ef">\label</span>};
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><div style="overflow-x: auto;">
  <div style="width: max-content; margin-left: auto; padding-right: clamp(0px, calc(100vw - 100%), 5vw);">
    <img 
      src="doubleNumberLine10.es.svg" 
      alt="" 
      style="display: block;" />
  </div>
</div>

<p>Observe lo fácil que resulta dejar etiquetas vacías usando la lista separada por comas en <code>\labels</code>. Esto es útil para estos diagramas en el contexto educativo, donde a veces es importante omitir ciertas etiquetas.</p>
<h3 id="paso-7-definir-estilos-para-las-etiquetas">Paso 7: Definir estilos para las etiquetas</h3>
<p>Nuevamente, para evitar repeticiones innecesarias y facilitar el mantenimiento del código, es mejor separar el estilo y la posición de las etiquetas del contenido. Se pueden definir dos estilos de TikZ distintos: uno para las etiquetas que van arriba de las marcas y otro para las que van debajo.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-latex" data-lang="latex"><span style="display:flex;"><span>tickLabelAbove/.style={
</span></span><span style="display:flex;"><span>    font=<span style="color:#66d9ef">\scriptsize</span>,   <span style="color:#75715e">% Font size for tick labels
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    anchor=mid,         <span style="color:#75715e">% Baseline align text vertically across nodes
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    yshift=2.0ex,       <span style="color:#75715e">% Vertical offset for labels above the line
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>},
</span></span><span style="display:flex;"><span>tickLabelBelow/.style={
</span></span><span style="display:flex;"><span>    font=<span style="color:#66d9ef">\scriptsize</span>,   <span style="color:#75715e">% Font size for tick labels
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    anchor=mid,         <span style="color:#75715e">% Baseline align text vertically across nodes
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    yshift=-2.3ex,      <span style="color:#75715e">% Slightly larger offset below the line to account 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                        <span style="color:#75715e">% for the label&#39;s baseline alignment (ensures visual balance).
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>},
</span></span></code></pre></div><p>Así, el código se simplifica a:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-latex" data-lang="latex"><span style="display:flex;"><span><span style="color:#66d9ef">\def\labels</span>{0<span style="color:#66d9ef">\%</span>,20<span style="color:#66d9ef">\%</span>, , 60<span style="color:#66d9ef">\%</span> , ,100<span style="color:#66d9ef">\%</span>}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">\foreach</span> <span style="color:#66d9ef">\label</span> [count=<span style="color:#66d9ef">\i</span>] in <span style="color:#66d9ef">\labels</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">\node</span><span style="color:#a6e22e">[tickLabelAbove]</span> at (mark-<span style="color:#66d9ef">\i</span>) {<span style="color:#66d9ef">\label</span>};
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="plantilla-final-doublenumberline">Plantilla final: <code>\doubleNumberLine</code></h2>
<p>Con el código en esta forma, se ha logrado separar completamente la estructura del contenido. Ahora se pueden declarar los parámetros para un diagrama específico de la siguiente manera:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-latex" data-lang="latex"><span style="display:flex;"><span><span style="color:#66d9ef">\def\lineWide</span>{6.3cm} <span style="color:#75715e">% ancho de la recta (sin incluir la etiqueta)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">\def\numMarks</span>{5}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">\def\topMarkLabels</span>{0,300,...,1200} 
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">\def\topLineLabel</span>{calcio (mg)}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">\def\bottomMarkLabels</span>{0<span style="color:#66d9ef">\%</span>, 25<span style="color:#66d9ef">\%</span>, 50<span style="color:#66d9ef">\%</span>,75<span style="color:#66d9ef">\%</span>, 100<span style="color:#66d9ef">\%</span>} 
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">\def\bottomLineLabel</span>{}
</span></span></code></pre></div><p>y definir el código de la plantilla preferiblemente en un archivo aparte. El siguiente fragmento de código define el comando <code>\doubleNumberLine</code>, que se encarga de dibujar todo:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-latex" data-lang="latex"><span style="display:flex;"><span><span style="color:#66d9ef">\newcommand</span>{<span style="color:#66d9ef">\doubleNumberLine</span>}[6]{<span style="color:#75715e">%
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">% Macro para dibujar una recta numérica doble con marcas y etiquetas a la izquierda
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">% El comando crea varias coordenadas:
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">% - Extremos de la recta superior e inferior: (top-leftEnd), (top-rightEnd), (bot-leftEnd), (bot-rightEnd)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">% - Nodos de las marcas superiores: (top-mark-1), ...,(top-mark-\numMarks)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">% - Nodos de las marcas inferiores: (bot-mark-1), ...,(bot-mark-\numMarks)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">% 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">%   Parámetros:
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">%   #1: Longitud de la recta (sin la etiqueta)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">%   #2: Número de marcas
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">%   #3: Etiquetas de las marcas superiores (separadas por comas)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">%   #4: Etiqueta de la recta superior (a la izquierda)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">%   #5: Etiquetas de las marcas inferiores (separadas por comas)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">%   #6: Etiqueta de la recta inferior (a la izquierda)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>   <span style="color:#75715e">% Constantes internas
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">\def\numLineExtra</span>{0.3cm} <span style="color:#75715e">% Espacio extra fijo en los extremos
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">%%% Recta numérica superior
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">\begin</span>{scope}
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">% Coordenadas de los extremos
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">\coordinate</span> (top-leftEnd) at (0, 0);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">\coordinate</span> (top-rightEnd) at (#1, 0);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">% Dibuja la recta y añade la etiqueta a la izquierda
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">\draw</span><span style="color:#a6e22e">[-&gt;, &gt;=stealth]</span> (top-leftEnd) -- (top-rightEnd);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">\node</span><span style="color:#a6e22e">[anchor=east, xshift=-1.5ex]</span> at (top-leftEnd) {#4};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">% Dibuja las marcas como nodos (top-mark-n). La primera marca es (top-mark-1).
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">\foreach</span> <span style="color:#66d9ef">\x</span> in {1,...,#2}{<span style="color:#75715e">%
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">\node</span><span style="color:#a6e22e">[numLineTick]</span> (top-mark-<span style="color:#66d9ef">\x</span>) at ({<span style="color:#66d9ef">\numLineExtra</span>+(<span style="color:#66d9ef">\x</span>-1)*(#1-2.5*<span style="color:#66d9ef">\numLineExtra</span>)/(#2-1)},0) {};
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">% Añade las etiquetas de las marcas
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">\foreach</span> <span style="color:#66d9ef">\num</span> [count=<span style="color:#66d9ef">\i</span>] in #3 {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">\node</span><span style="color:#a6e22e">[tickLabelAbove]</span> at (top-mark-<span style="color:#66d9ef">\i</span>) {<span style="color:#66d9ef">\num</span>};
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">\end</span>{scope}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">%%% Recta numérica inferior
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">\begin</span>{scope}[yshift=-6ex]
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">% Coordenadas de los extremos
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">\coordinate</span> (bot-leftEnd) at (0, 0);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">\coordinate</span> (bot-rightEnd) at (#1, 0);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">% Dibuja la recta y añade la etiqueta a la izquierda
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">\draw</span><span style="color:#a6e22e">[-&gt;, &gt;=stealth]</span> (bot-leftEnd) -- (bot-rightEnd);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">\node</span><span style="color:#a6e22e">[anchor=east, xshift=-1.5ex]</span> at (bot-leftEnd) {#6};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">% Dibuja las marcas como nodos (bot-mark-n). La primera marca es (bot-mark-1).
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">\foreach</span> <span style="color:#66d9ef">\x</span> in {1,...,#2}{<span style="color:#75715e">%
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">\node</span><span style="color:#a6e22e">[numLineTick]</span> (bot-mark-<span style="color:#66d9ef">\x</span>) at ({<span style="color:#66d9ef">\numLineExtra</span>+(<span style="color:#66d9ef">\x</span>-1)*(#1-2.5*<span style="color:#66d9ef">\numLineExtra</span>)/(#2-1)},0) {};
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">% Añade las etiquetas de las marcas
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">\foreach</span> <span style="color:#66d9ef">\num</span> [count=<span style="color:#66d9ef">\i</span>] in #5 {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">\node</span><span style="color:#a6e22e">[tickLabelBelow]</span> at (bot-mark-<span style="color:#66d9ef">\i</span>) {<span style="color:#66d9ef">\num</span>};
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">\end</span>{scope}
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Y el siguiente fragmento de código contiene todos los estilos utilizados por <code>\doubleNumberLine</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-latex" data-lang="latex"><span style="display:flex;"><span><span style="color:#75715e">%  Estilos TikZ para rectas numéricas
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">\tikzset</span>{
</span></span><span style="display:flex;"><span>  tickLabelAbove/.style={
</span></span><span style="display:flex;"><span>      font=<span style="color:#66d9ef">\small</span>,        <span style="color:#75715e">% Tamaño de fuente para las etiquetas
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      anchor=mid,         <span style="color:#75715e">% Alineación vertical de las etiquetas
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      yshift=2.0ex,       <span style="color:#75715e">% Desplazamiento vertical para etiquetas arriba
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  },
</span></span><span style="display:flex;"><span>  tickLabelBelow/.style={
</span></span><span style="display:flex;"><span>      font=<span style="color:#66d9ef">\small</span>,        <span style="color:#75715e">% Tamaño de fuente para las etiquetas
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      anchor=mid,         <span style="color:#75715e">% Alineación vertical de las etiquetas
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      yshift=-2.3ex,      <span style="color:#75715e">% Desplazamiento mayor para etiquetas abajo
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  },
</span></span><span style="display:flex;"><span>  numLineTick/.style={
</span></span><span style="display:flex;"><span>      draw,               <span style="color:#75715e">% Dibuja el nodo de la marca
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      minimum width=0pt,  <span style="color:#75715e">% Sin ancho para el cuadro del nodo
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      minimum height=7pt, <span style="color:#75715e">% Altura de la marca
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      line cap=round,     <span style="color:#75715e">% Extremos redondeados
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      inner sep=0pt,      <span style="color:#75715e">% Sin espacio interno
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      outer sep=2pt,      <span style="color:#75715e">% Espacio alrededor de la marca
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      line width=0.35pt,  <span style="color:#75715e">% Grosor de la línea
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  },
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Ya con esto, pequeños fragmentos de código pueden generar diagramas con un estilo visual consistente.</p>
<h3 id="ejemplos">Ejemplos</h3>
<p>Por ejemplo, la siguiente línea de código</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-latex" data-lang="latex"><span style="display:flex;"><span><span style="color:#75715e">% \begin{tikzpicture}
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">\doubleNumberLine</span>{6.3cm}{7}{0,1,...,6}{número de libros}{<span style="color:#66d9ef">\$</span>0, <span style="color:#66d9ef">\$</span>15, <span style="color:#66d9ef">\$</span>30, <span style="color:#66d9ef">\$</span>45, <span style="color:#66d9ef">\$</span>60, <span style="color:#66d9ef">\$</span>75, <span style="color:#66d9ef">\$</span>90}{costo total}
</span></span><span style="display:flex;"><span><span style="color:#75715e">% \end{tikzpicture}
</span></span></span></code></pre></div><p>produce el diagrama:
<div style="overflow-x: auto;">
  <div style="width: max-content; margin-left: auto; padding-right: clamp(0px, calc(100vw - 100%), 5vw);">
    <img 
      src="doubleNumberLine12.es.svg" 
      alt="" 
      style="display: block;" />
  </div>
</div>
</p>
<p>Esta otra línea de código</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-latex" data-lang="latex"><span style="display:flex;"><span><span style="color:#75715e">% \begin{tikzpicture}
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">\doubleNumberLine</span>{5cm}{5}{0,50,,,200}{número de tarjetas}{0<span style="color:#66d9ef">\%</span>, 10<span style="color:#66d9ef">\%</span>, , , ? }{porcentaje}
</span></span><span style="display:flex;"><span><span style="color:#75715e">% \end{tikzpicture}
</span></span></span></code></pre></div><p>genera:
<div style="overflow-x: auto;">
  <div style="width: max-content; margin-left: auto; padding-right: clamp(0px, calc(100vw - 100%), 5vw);">
    <img 
      src="doubleNumberLine13.es.svg" 
      alt="" 
      style="display: block;" />
  </div>
</div>
</p>
<h3 id="cómo-hacer-la-plantilla-más-fácil-de-usar">Cómo hacer la plantilla más fácil de usar</h3>
<p>Es interesante saber que se puede especificar una diagrama de recta numérica doble con una sola línea de código. Sin embargo, la brevedad no siempre implica facilidad de uso. De hecho, no es sencillo recordar el significado de los seis argumentos <code>{}{}{}{}{}{}</code> en <code>\doubleNumberLine</code>, por lo que resulta más claro estructurar la plantilla  de la siguiente forma que invoque <code>\doubleNumberLine</code> y haga explícito el significado de cada argumento. Son bastantes más líneas de código, pero es mucho más fácil de usar.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-latex" data-lang="latex"><span style="display:flex;"><span><span style="color:#66d9ef">\begin</span>{tikzpicture}
</span></span><span style="display:flex;"><span><span style="color:#75715e">% Parámetros
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">\def\lineWide</span>{3in} <span style="color:#75715e">% ancho de la recta (sin incluir la etiqueta)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">\def\numMarks</span>{7}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">\def\topMarkLabels</span>{0,1,...,6} 
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">\def\topLineLabel</span>{número de libros}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">\def\bottomMarkLabels</span>{<span style="color:#66d9ef">\$</span>0, <span style="color:#66d9ef">\$</span>15, <span style="color:#66d9ef">\$</span>30, <span style="color:#66d9ef">\$</span>45, <span style="color:#66d9ef">\$</span>60, <span style="color:#66d9ef">\$</span>75, <span style="color:#66d9ef">\$</span>90} 
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">\def\bottomLineLabel</span>{costo total}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">% Dibuja la recta numérica doble
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">% crea varias coordenadas como (top-leftEnd) y (bot-mark-2). Más detalles en la plantilla.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">\doubleNumberLine</span>{<span style="color:#66d9ef">\lineWide</span>}{<span style="color:#66d9ef">\numMarks</span>}{<span style="color:#66d9ef">\topMarkLabels</span>}{<span style="color:#66d9ef">\topLineLabel</span>}{<span style="color:#66d9ef">\bottomMarkLabels</span>}{<span style="color:#66d9ef">\bottomLineLabel</span>}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">\end</span>{tikzpicture}
</span></span></code></pre></div><h3 id="ejemplo-completo-con-código">Ejemplo completo, con código</h3>
<p>Este es un 
<a href="./tikz-gallery/doublenumberline13/">ejemplo completo, con todo el código en un solo archivo</a> (enlace a la galería TikZ de este blog). Para usarlo como plantilla, todos los estilos y la definición de la macro <code>\doubleNumberLine</code> deben trasladarse a un archivo <code>.sty</code> o a un archivo de LaTeX aparte, incluido en el preámbulo mediante el comando <code>\include</code> (como en este 
<a href="https://www.overleaf.com/read/wyzvmbhzjxhh#e5bdef" target="_blank" rel="noopener">ejemplo que cree en Overleaf</a>).</p>
<p><div style="overflow-x: auto;">
  <div style="width: max-content; margin-left: auto; padding-right: clamp(0px, calc(100vw - 100%), 5vw);">
    <img 
      src="doubleNumberLine13.svg" 
      alt="" 
      style="display: block;" />
  </div>
</div>






<p>(Imagen creada con TikZ. Código fuente <a href="https://enriqueacosta.github.io/blog/es/tikz-gallery/doublenumberline13/">acá</a>.)</p>
</p>
<h2 id="posibles-mejoras">Posibles mejoras</h2>
<h3 id="número-de-marcas">Número de marcas</h3>
<p>La macro <code>\doubleNumberLine</code> podría deducir automáticamente el valor de <code>\numMarks</code> a partir de la longitud de <code>\topMarkLabels</code>. Esto no es trivial debido a la forma como LaTeX funciona internamente, pero es posible de lograr.</p>
<p>Por ejemplo, se podría añadir el siguiente fragmento cerca del inicio del código de <code>doubleNumberLine</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-latex" data-lang="latex"><span style="display:flex;"><span><span style="color:#75715e">% Calcular el número de marcas a partir de #3 y almacenarlo en \numMarks
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">\pgfmathsetmacro</span>{<span style="color:#66d9ef">\numMarks</span>}{0}<span style="color:#75715e">% 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">\foreach</span> <span style="color:#66d9ef">\i</span> in #3{<span style="color:#75715e">%
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">\pgfmathtruncatemacro</span>{<span style="color:#66d9ef">\numMarks</span>}{<span style="color:#66d9ef">\numMarks</span>+1}<span style="color:#75715e">% 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">\global\let\numMarks\numMarks</span><span style="color:#75715e">%
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}<span style="color:#75715e">%
</span></span></span></code></pre></div><p>Esto eliminaría un argumento de entrada en <code>\doubleNumberLine</code>, pero no estoy seguro de que valga la pena tener un código de LaTeX más complejo (por el uso de <code>\global</code> y <code>\pgfmathtruncatemacro</code>). Encontrar una versión confiable de este código no fue sencillo; varios intentos fallaron, lo que sugiere que puede ser difícil de mantener si cambian TikZ o LaTeX.</p>
<h3 id="simplificar-los-parámetros">Simplificar los parámetros</h3>
<p>Para evitar que se usen los seis argumentos sin tener claridad de cuál es cuál, es posible que se puede crear interfaz más amigable con <code>pgfkeys</code>. De lograrse, la llamada a la plantilla podría verse así:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-latex" data-lang="latex"><span style="display:flex;"><span><span style="color:#66d9ef">\doubleNumberLine</span>[
</span></span><span style="display:flex;"><span>  length=7.6cm,
</span></span><span style="display:flex;"><span>  topmarks={0,50,...,200},
</span></span><span style="display:flex;"><span>  toplabel={calcio (mg)},
</span></span><span style="display:flex;"><span>  bottommarks={},
</span></span><span style="display:flex;"><span>  bottomlabels={0<span style="color:#66d9ef">\%</span>,25<span style="color:#66d9ef">\%</span>,50<span style="color:#66d9ef">\%</span>,75<span style="color:#66d9ef">\%</span>,100<span style="color:#66d9ef">\%</span>}
</span></span><span style="display:flex;"><span>]
</span></span></code></pre></div>
  </div>

</div>

<h2>
Suscríbase
</h2>
<p>
   ¿Quiere recibir un email cuando haya una nueva entrada de blog? Suscríbase  <a href="subscribe/subscribe"> acá</a>.
</p>

<footer>
  <hr style="width:50%;text-align:left;margin-left:0;margin-top:20;border: 1px solid #ac4142;">
  <div class="license">
    <p>
      &copy 2025 Enrique Acosta. </br>
      Liberado bajo una licencia de uso <a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/deed.es">Creative Commons CC-BY-SA 4.0</a>
      
      <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png" /></a>
    </p>
  </div>
  
</footer>


    </main>

    
      
    
  </body>
</html>
